!function(){"use strict";const e=window.location.href.includes("github"),t="https://forge.apps.education.fr/url/url.forge.apps.education.fr/-/issues/",n="https://github.com/eyssette/url/issues/",i=e?n:t,r=e?n+"new?title=":t+"new?issue[title]=",o="<title>(.*?)"+(e?" ¬∑ Issue #":" \\(#");const s=`\n<h1>üîó Raccourcisseur de lien</h1>\n<p>Pour utiliser ce raccourcisseur de lien, il faut laisser un ticket √† cette <a href="${i}">adresse</a> en mettant l'URL √† raccourcir dans le titre du ticket.</p>\n<div>Pour aller plus vite, <label for="urlInput">indiquez ici l'URL √† raccourcir :</label> <div><input type="text" id="urlInput" placeholder="Entrez l'URL ici"> <button id="okButton">Cr√©er le ticket</button></div></div>\n<p>Seuls les utilisateurs authentifi√©s peuvent cr√©er un ticket.</p>\n<p>Si votre num√©ro de ticket est le 1, alors votre raccourci sera le suivant : <a href="${window.location.href}#1" target="_blank">${window.location.href}#1</a></p>\n<p>On ne peut avoir que des raccourcis num√©riques, qui correspondent au num√©ro du ticket, et on ne peut pas les personnaliser pour que l'URL soit signifiante.</p>\n<p>Il est possible de modifier ult√©rieurement son raccourci en modifiant son ticket.</p>\n<div class="admonition warning">\n  <p class="admonition-title">Attention</p>\n  <p>Les raccourcis sont <strong>publics</strong> : on ne peut pas cr√©er de raccourci priv√©. Tout le monde peut voir les raccourcis et identifier les personnes qui les ont cr√©√©s, en allant sur la page des tickets de cet outil.</p>\n</div>\n`;const u=function(e){if("number"==typeof e&&!isNaN(e))return e;const t=Number(e);return isNaN(t)?null:t}(window.location.hash.substring(1).replace(/\?.*/,""));u?async function(e){const t="https://corsproxy.io/?"+i+e;try{const n=await fetch(t);if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const i=await n.text(),r=o+e,s=i.match(r);let u;s&&(u=s[1].trim()),window.location.href=u}catch(e){return console.error("Erreur lors de la r√©cup√©ration de l'issue :",e),null}}(u):(document.body.innerHTML=s,document.getElementById("okButton").addEventListener("click",(function(){const e=encodeURIComponent(document.getElementById("urlInput").value.trim());e?window.location.href=r+e:alert("Veuillez entrer une URL valide.")})))}();
//# sourceMappingURL=script.min.js.map
